add changing modes

add action based on modes

delete debug.py
